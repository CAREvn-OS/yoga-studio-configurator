/* ===== REVEAL ANIMATIONS ===== */
.reveal {
  opacity: 0; transform: translateY(28px);
  transition: opacity 0.8s var(--ease-out-expo), transform 0.8s var(--ease-out-expo);
}
.reveal.visible { opacity: 1; transform: translateY(0); }
.reveal-delay-1 { transition-delay: 0.1s; }
.reveal-delay-2 { transition-delay: 0.2s; }
.reveal-delay-3 { transition-delay: 0.3s; }
.reveal-delay-4 { transition-delay: 0.4s; }

/* ===== ANIMATION VARIANTS ===== */
body.anim-none .reveal { opacity: 1; transform: none; transition: none; }
body.anim-subtle .reveal { transition-duration: 0.5s; }
body.anim-dramatic .reveal { transform: translateY(50px); transition-duration: 1.2s; }
body.anim-slide .reveal { transform: translateX(-40px); transition-duration: 0.8s; }
body.anim-slide .reveal.visible { transform: translateX(0); }

/* ===== SECTION PREVIEWING ===== */
@keyframes sectionPulse {
  0% { box-shadow: inset 0 0 0 0 transparent; }
  40% { box-shadow: inset 0 0 0 2px var(--color-accent); }
  100% { box-shadow: inset 0 0 0 0 transparent; }
}
.section-previewing { animation: sectionPulse 1.2s ease-out; }

/* ===== FADE KEYFRAMES ===== */
@keyframes fadeUp { from { opacity: 0; transform: translateY(24px); } to { opacity: 1; transform: translateY(0); } }
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }


/* ===================================================================
   VIBE SYSTEM — Each vibe modifies reveal animations, hovers, and
   overall motion feel. --vibe-intensity (0–1) scales the effect.
   =================================================================== */

/* --- ZEN: Soft & calm — minimal movement, fade-only --- */
body.vibe-zen .reveal {
  transform: translateY(calc(8px * var(--vibe-intensity, 0.4)));
  transition-duration: calc(0.6s + 0.6s * var(--vibe-intensity, 0.4));
  transition-timing-function: cubic-bezier(0.25, 0.46, 0.45, 0.94);
}
body.vibe-zen .reveal.visible { transform: translateY(0); }
body.vibe-zen section { transition: opacity 0.6s ease; }
body.vibe-zen .btn:hover { transform: translateY(-1px); transition: all 0.4s ease; }

/* --- PULSE: Breathe & grow — gentle scale breathing on hover --- */
body.vibe-pulse .reveal {
  transform: translateY(calc(20px * var(--vibe-intensity, 0.4))) scale(calc(1 - 0.02 * var(--vibe-intensity, 0.4)));
  transition-duration: calc(0.5s + 0.4s * var(--vibe-intensity, 0.4));
}
body.vibe-pulse .reveal.visible { transform: translateY(0) scale(1); }
body.vibe-pulse img:hover,
body.vibe-pulse .media-slot:hover {
  transform: scale(calc(1 + 0.03 * var(--vibe-intensity, 0.4)));
  transition: transform 0.6s ease;
}
body.vibe-pulse .btn:hover {
  transform: scale(calc(1 + 0.04 * var(--vibe-intensity, 0.4)));
  transition: all 0.3s ease;
}

/* --- BLOOM: Open & unfold — grow-in with slight scale --- */
body.vibe-bloom .reveal {
  transform: translateY(calc(24px * var(--vibe-intensity, 0.4))) scale(calc(1 - 0.06 * var(--vibe-intensity, 0.4)));
  transition-duration: calc(0.7s + 0.5s * var(--vibe-intensity, 0.4));
  transition-timing-function: cubic-bezier(0.34, 1.56, 0.64, 1);
}
body.vibe-bloom .reveal.visible { transform: translateY(0) scale(1); }
body.vibe-bloom img:hover {
  transform: scale(calc(1 + 0.05 * var(--vibe-intensity, 0.4)));
  transition: transform 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* --- DRIFT: Float & glide — horizontal slide reveals --- */
body.vibe-drift .reveal {
  transform: translateX(calc(-30px * var(--vibe-intensity, 0.4)));
  transition-duration: calc(0.7s + 0.3s * var(--vibe-intensity, 0.4));
  transition-timing-function: cubic-bezier(0.16, 1, 0.3, 1);
}
body.vibe-drift .reveal.visible { transform: translateX(0); }
body.vibe-drift .reveal-delay-2,
body.vibe-drift .reveal-delay-4 {
  transform: translateX(calc(30px * var(--vibe-intensity, 0.4)));
}
body.vibe-drift .reveal-delay-2.visible,
body.vibe-drift .reveal-delay-4.visible {
  transform: translateX(0);
}
body.vibe-drift .btn:hover {
  transform: translateX(calc(3px * var(--vibe-intensity, 0.4)));
  transition: all 0.3s ease;
}

/* --- SPARK: Pop & bounce — snappy transitions, slight overshoot --- */
body.vibe-spark .reveal {
  transform: translateY(calc(32px * var(--vibe-intensity, 0.4))) scale(calc(1 - 0.08 * var(--vibe-intensity, 0.4)));
  transition-duration: calc(0.35s + 0.25s * var(--vibe-intensity, 0.4));
  transition-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1.275);
}
body.vibe-spark .reveal.visible { transform: translateY(0) scale(1); }
body.vibe-spark img:hover,
body.vibe-spark .media-slot:hover {
  transform: scale(calc(1 + 0.06 * var(--vibe-intensity, 0.4)));
  transition: transform 0.25s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}
body.vibe-spark .btn:hover {
  transform: translateY(calc(-3px * var(--vibe-intensity, 0.4))) scale(calc(1 + 0.02 * var(--vibe-intensity, 0.4)));
  transition: all 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

/* --- WAVE: Flow & ripple — flowing sinusoidal motion --- */
body.vibe-wave .reveal {
  transform: translateY(calc(20px * var(--vibe-intensity, 0.4))) rotate(calc(-1deg * var(--vibe-intensity, 0.4)));
  transition-duration: calc(0.8s + 0.4s * var(--vibe-intensity, 0.4));
  transition-timing-function: cubic-bezier(0.45, 0, 0.55, 1);
}
body.vibe-wave .reveal.visible { transform: translateY(0) rotate(0deg); }
body.vibe-wave .reveal-delay-1 { transition-delay: calc(0.1s + 0.05s * var(--vibe-intensity, 0.4)); }
body.vibe-wave .reveal-delay-2 { transition-delay: calc(0.2s + 0.1s * var(--vibe-intensity, 0.4)); }
body.vibe-wave .reveal-delay-3 { transition-delay: calc(0.3s + 0.15s * var(--vibe-intensity, 0.4)); }
body.vibe-wave .reveal-delay-4 { transition-delay: calc(0.4s + 0.2s * var(--vibe-intensity, 0.4)); }
body.vibe-wave img:hover {
  transform: rotate(calc(1deg * var(--vibe-intensity, 0.4)));
  transition: transform 0.5s ease;
}


/* ===================================================================
   VIBE PERSISTENT STYLES — Visible-state styling so switching vibes
   produces an immediate visual difference on cards, images & buttons.
   All effects scale with --vibe-intensity (0–1).
   =================================================================== */

/* --- ZEN PERSISTENT: Calm, minimal --- */
body.vibe-zen .card,
body.vibe-zen [class*="card"] {
  transition: opacity 0.6s ease, box-shadow 0.6s ease;
}
body.vibe-zen .card:hover,
body.vibe-zen [class*="card"]:hover {
  opacity: calc(1 - 0.02 * var(--vibe-intensity, 0.4));
}
body.vibe-zen .media-slot__img {
  transition: transform 0.6s ease;
}
body.vibe-zen .media-slot__img:hover {
  transform: scale(calc(1 + 0.01 * var(--vibe-intensity, 0.4)));
}

/* --- PULSE PERSISTENT: Breathe & grow --- */
body.vibe-pulse .card,
body.vibe-pulse [class*="card"] {
  transition: transform 0.5s ease, box-shadow 0.5s ease;
}
body.vibe-pulse .card:hover,
body.vibe-pulse [class*="card"]:hover {
  transform: scale(calc(1 + 0.015 * var(--vibe-intensity, 0.4)));
  box-shadow: 0 calc(4px * var(--vibe-intensity, 0.4)) calc(16px * var(--vibe-intensity, 0.4)) rgba(0, 0, 0, 0.08);
}
body.vibe-pulse .media-slot__img {
  transition: transform 0.6s ease;
}
body.vibe-pulse .media-slot__img:hover {
  transform: scale(calc(1 + 0.03 * var(--vibe-intensity, 0.4)));
}

/* --- BLOOM PERSISTENT: Open & unfold, spring --- */
body.vibe-bloom .card,
body.vibe-bloom [class*="card"] {
  transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1), box-shadow 0.4s ease, border-radius 0.4s ease;
}
body.vibe-bloom .card:hover,
body.vibe-bloom [class*="card"]:hover {
  transform: scale(calc(1 + 0.02 * var(--vibe-intensity, 0.4)));
  box-shadow: 0 calc(6px * var(--vibe-intensity, 0.4)) calc(24px * var(--vibe-intensity, 0.4)) rgba(0, 0, 0, 0.06);
  border-radius: calc(var(--border-radius, 8px) + 4px * var(--vibe-intensity, 0.4));
}
body.vibe-bloom .media-slot__img {
  transition: transform 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
}
body.vibe-bloom .media-slot__img:hover {
  transform: scale(calc(1 + 0.05 * var(--vibe-intensity, 0.4)));
}
body.vibe-bloom .btn {
  transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* --- DRIFT PERSISTENT: Float & glide, alternating direction --- */
body.vibe-drift .card,
body.vibe-drift [class*="card"] {
  transition: transform 0.5s cubic-bezier(0.16, 1, 0.3, 1);
}
body.vibe-drift .card:hover,
body.vibe-drift [class*="card"]:hover {
  transform: translateX(calc(3px * var(--vibe-intensity, 0.4)));
}
body.vibe-drift .card:nth-child(even):hover,
body.vibe-drift [class*="card"]:nth-child(even):hover {
  transform: translateX(calc(-3px * var(--vibe-intensity, 0.4)));
}
body.vibe-drift .media-slot__img {
  transition: transform 0.5s cubic-bezier(0.16, 1, 0.3, 1);
}
body.vibe-drift .media-slot__img:hover {
  transform: translateX(calc(2px * var(--vibe-intensity, 0.4)));
}

/* --- SPARK PERSISTENT: Pop & bounce, snappy --- */
body.vibe-spark .card,
body.vibe-spark [class*="card"] {
  transition: transform 0.25s cubic-bezier(0.175, 0.885, 0.32, 1.275), box-shadow 0.25s ease;
}
body.vibe-spark .card:hover,
body.vibe-spark [class*="card"]:hover {
  transform: translateY(calc(-5px * var(--vibe-intensity, 0.4)));
  box-shadow: 0 calc(8px * var(--vibe-intensity, 0.4)) calc(20px * var(--vibe-intensity, 0.4)) rgba(0, 0, 0, 0.1);
}
body.vibe-spark .media-slot__img {
  transition: transform 0.25s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}
body.vibe-spark .media-slot__img:hover {
  transform: scale(calc(1 + 0.06 * var(--vibe-intensity, 0.4)));
}

/* --- WAVE PERSISTENT: Flow & ripple, slight rotation --- */
body.vibe-wave .card,
body.vibe-wave [class*="card"] {
  transition: transform 0.5s cubic-bezier(0.45, 0, 0.55, 1);
}
body.vibe-wave .card:hover,
body.vibe-wave [class*="card"]:hover {
  transform: rotate(calc(0.3deg * var(--vibe-intensity, 0.4)));
}
body.vibe-wave .card:nth-child(even):hover,
body.vibe-wave [class*="card"]:nth-child(even):hover {
  transform: rotate(calc(-0.3deg * var(--vibe-intensity, 0.4)));
}
body.vibe-wave .media-slot__img {
  transition: transform 0.5s ease;
}
body.vibe-wave .media-slot__img:hover {
  transform: rotate(calc(0.5deg * var(--vibe-intensity, 0.4)));
}
body.vibe-wave .btn {
  transition: all 0.5s cubic-bezier(0.45, 0, 0.55, 1);
}
body.vibe-wave .btn:hover {
  transform: translateY(calc(-2px * var(--vibe-intensity, 0.4)));
}


/* ===================================================================
   VIBE RESTING STYLES — Subtle non-hover differences visible at rest
   so switching vibes shows an immediate visual change.
   =================================================================== */

/* --- ZEN RESTING: Calm softness --- */
body.vibe-zen .card,
body.vibe-zen [class*="card"] {
  box-shadow: 0 1px calc(8px * var(--vibe-intensity, 0.4)) rgba(0, 0, 0, 0.03);
}
body.vibe-zen .media-slot__img {
  filter: saturate(calc(1 - 0.05 * var(--vibe-intensity, 0.4)));
}

/* --- PULSE RESTING: Gentle breathing animation --- */
@keyframes pulse-breathe {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.004); }
}
body.vibe-pulse .card,
body.vibe-pulse [class*="card"] {
  animation: pulse-breathe calc(3s + 1s * var(--vibe-intensity, 0.4)) ease-in-out infinite;
}
body.vibe-pulse .media-slot__img {
  animation: pulse-breathe calc(4s + 1s * var(--vibe-intensity, 0.4)) ease-in-out infinite;
}

/* --- BLOOM RESTING: Slightly enlarged, spring radius --- */
body.vibe-bloom .card,
body.vibe-bloom [class*="card"] {
  border-radius: calc(var(--border-radius, 0px) + 3px * var(--vibe-intensity, 0.4));
  box-shadow: 0 calc(2px * var(--vibe-intensity, 0.4)) calc(12px * var(--vibe-intensity, 0.4)) rgba(0, 0, 0, 0.04);
}

/* --- DRIFT RESTING: Alternating subtle X-offset --- */
body.vibe-drift .card:nth-child(odd),
body.vibe-drift [class*="card"]:nth-child(odd) {
  transform: translateX(calc(1px * var(--vibe-intensity, 0.4)));
}
body.vibe-drift .card:nth-child(even),
body.vibe-drift [class*="card"]:nth-child(even) {
  transform: translateX(calc(-1px * var(--vibe-intensity, 0.4)));
}

/* --- SPARK RESTING: Subtle pop shadow --- */
body.vibe-spark .card,
body.vibe-spark [class*="card"] {
  box-shadow: 0 calc(3px * var(--vibe-intensity, 0.4)) calc(10px * var(--vibe-intensity, 0.4)) rgba(0, 0, 0, 0.07);
}

/* --- WAVE RESTING: Tiny rotation offset --- */
body.vibe-wave .card:nth-child(odd),
body.vibe-wave [class*="card"]:nth-child(odd) {
  transform: rotate(calc(0.15deg * var(--vibe-intensity, 0.4)));
}
body.vibe-wave .card:nth-child(even),
body.vibe-wave [class*="card"]:nth-child(even) {
  transform: rotate(calc(-0.15deg * var(--vibe-intensity, 0.4)));
}
